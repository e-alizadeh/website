<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Essi">

<title>Essi Alizadeh – index</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-180647948-1', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script>
<style>html{ scroll-behavior: smooth; }</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Essi Alizadeh</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">Home</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html">Blog</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">About</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#a-guide-to-metrics-estimates-in-exploratory-data-analysis" id="toc-a-guide-to-metrics-estimates-in-exploratory-data-analysis" class="nav-link active" data-scroll-target="#a-guide-to-metrics-estimates-in-exploratory-data-analysis">A Guide to Metrics (Estimates) in Exploratory Data Analysis</a></li>
  <li><a href="#estimates-of-location" id="toc-estimates-of-location" class="nav-link" data-scroll-target="#estimates-of-location">Estimates of Location</a>
  <ul>
  <li><a href="#mean" id="toc-mean" class="nav-link" data-scroll-target="#mean">Mean</a>
  <ul class="collapse">
  <li><a href="#a-use-case-for-the-weighted-mean" id="toc-a-use-case-for-the-weighted-mean" class="nav-link" data-scroll-target="#a-use-case-for-the-weighted-mean">A Use Case for the Weighted Mean</a></li>
  </ul></li>
  <li><a href="#median" id="toc-median" class="nav-link" data-scroll-target="#median">Median</a></li>
  <li><a href="#mode" id="toc-mode" class="nav-link" data-scroll-target="#mode">Mode</a></li>
  <li><a href="#python-implementation" id="toc-python-implementation" class="nav-link" data-scroll-target="#python-implementation">Python Implementation</a></li>
  </ul></li>
  <li><a href="#estimates-of-variability" id="toc-estimates-of-variability" class="nav-link" data-scroll-target="#estimates-of-variability">Estimates of Variability</a>
  <ul>
  <li><a href="#mean-absolute-deviation" id="toc-mean-absolute-deviation" class="nav-link" data-scroll-target="#mean-absolute-deviation">Mean Absolute Deviation</a></li>
  <li><a href="#variance-standard-deviation" id="toc-variance-standard-deviation" class="nav-link" data-scroll-target="#variance-standard-deviation">Variance &amp; Standard Deviation</a></li>
  <li><a href="#median-absolute-deviation-mad" id="toc-median-absolute-deviation-mad" class="nav-link" data-scroll-target="#median-absolute-deviation-mad">Median Absolute Deviation (MAD)</a></li>
  <li><a href="#percentiles" id="toc-percentiles" class="nav-link" data-scroll-target="#percentiles">Percentiles</a></li>
  <li><a href="#python-implementation-1" id="toc-python-implementation-1" class="nav-link" data-scroll-target="#python-implementation-1">Python Implementation</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#join-my-mailing-list" id="toc-join-my-mailing-list" class="nav-link" data-scroll-target="#join-my-mailing-list"><strong>📩 Join my mailing list</strong></a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  <li><a href="#useful-links" id="toc-useful-links" class="nav-link" data-scroll-target="#useful-links">Useful Links</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">



<section id="a-guide-to-metrics-estimates-in-exploratory-data-analysis" class="level1 page-columns page-full">
<h1>A Guide to Metrics (Estimates) in Exploratory Data Analysis</h1>
<p>Created: March 4, 2021 8:45 PM Last Updated: December 29, 2020 Last updated: September 7, 2022 10:14 PM Reading Time: 9 min read Show on Homepage?: No Tags: Data Science, Exploratory Data Analysis, Guide to, Python, Statistics id: 8</p>
<aside>
<p>👉 This article is also published on&nbsp;<a href="https://towardsdatascience.com/a-guide-to-metrics-in-exploratory-data-analysis-250b33f72297"><strong>Towards Data Science blog</strong></a>.</p>
</aside>
<ul>
<li><strong>Table of Contents</strong></li>
</ul>
<p>Exploratory data analysis (EDA) is an important step in any data science project. We always try to get a glance of our data by computing descriptive statistics of our dataset. If you are like me, the first function you call might be Pandas <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.describe.html"><strong>dataframe.describe()</strong></a> to obtain descriptive statistics. While such analysis is important, <em>we often underestimate the importance of choosing the correct sample statistics/metrics/estimates</em>.</p>
<p>In this post, we will go over several metrics that you can use in your data science projects. In particular, we are going to cover several estimates of location and variability and their robustness (sensitiveness to outliers).</p>
<p>The following common metrics/estimates are covered in this article:</p>
<ul>
<li><em>Estimates of location</em> (first moment of the distribution)
<ul>
<li><em>mean, trimmed/truncated mean, weighted mean</em></li>
<li><em>median, weighted median</em></li>
</ul></li>
<li><em>Estimates of variability</em> (second moment of the distribution)
<ul>
<li><em>range</em></li>
<li><em>variance and standard deviation</em></li>
<li><em>mean absolute deviation, median absolute deviation</em></li>
<li><em>percentiles (quantiles)</em></li>
</ul></li>
</ul>
<p>For each metric, we will cover:</p>
<ul>
<li>The definition and mathematical formulation along with some insights.</li>
<li>Whether the metric is robust (sensitiveness to extreme cases)</li>
<li>Python implementation and an example</li>
</ul>
<aside>
<p>👉 <em>The focus of this article is on the metrics and estimates used in the univariate analysis of numeric data</em>.</p>
</aside>
<p>A note before we start: data scientists and business analysts usually refer to values calculated from the data as a <em>metric</em>, whereas statisticians use the term <em>estimates</em> for such values[1].</p>
</section>
<section id="estimates-of-location" class="level1 page-columns page-full">
<h1>Estimates of Location</h1>
<p>Estimates of location are measures of the central tendency of the data (where most of the data is located). In statistics, this is usually referred to as the first moment of a distribution.</p>
<section id="mean" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="mean">Mean</h2>
<p>The <em>arithmetic mean</em>, or simply <em>mean</em> or <em>average</em> is probably the most popular estimate of location. There different variants of mean, such as <em>weighted mean</em> or <em>trimmed/truncated mean</em>. You can see how they can be computed below.</p>
<p><span class="math display">
\begin{matrix}
\text{Mean} &amp; {= \bar{x} = \frac{\sum\limits_{i}^{n}x_{i}}{n}\quad\quad\quad\quad} &amp; {(1.1)} \\
\text{Weighted Mean} &amp; {= {\bar{x}}_{w} = \frac{\sum\limits_{i = 1}^{n}w_{i}x_{i}}{\sum\limits_{i}^{n}w_{i}}} &amp; {(1.2)} \\
\text{Truncated Mean} &amp; {= {\bar{x}}_{\text{tr}} = \frac{\sum\limits_{i = p + 1}^{n - p}x_{i}}{n - 2p}} &amp; {(1.3)}
\end{matrix}
</span></p>
<p><span class="math inline">*n*</span> denotes the total number of observations (rows).</p>
<p>Weighted mean (equation 1.2) is a variant of mean that can be used in situations where the sample data does not represent different groups in a dataset. By assigning a larger weight to groups that are under-represented, the computed weighted mean will more accurately represent all groups in our dataset.</p>
<aside>
<p>⚠️ Extreme values can easily influence both the <strong>mean</strong> and <strong>weighted mean</strong> since neither one is a robust metric!</p>
</aside>
<aside>
<p>💡 <strong>Robust estimate</strong>: A metric that is not sensitive to extreme values (outliers).</p>
</aside>
<p>Another variant of mean is the <em>trimmed mean</em> (eq. 1.3) that is a robust estimate. This metric is used in calculating the final score in many sports where a panel of judges will each give a score. Then the lowest and the highest scores are dropped and the mean of the remaining scores are computed as a part of the final score[2]. One such example is in the international diving score system.</p>
<aside>
<p>💡 In statistics, <span class="math inline">\bar{\mathbf{x}}</span> refers to a <strong>sample</strong> mean, whereas <span class="math inline">\mu</span> refers to the <strong>population</strong> mean.</p>
</aside>
<section id="a-use-case-for-the-weighted-mean" class="level3">
<h3 class="anchored" data-anchor-id="a-use-case-for-the-weighted-mean">A Use Case for the Weighted Mean</h3>
<p>If you want to buy a smartphone or a smartwatch or any gadget where there are many options, you can use the following method to choose among various options available for a gadget.</p>
<p>Let’s assume you want to buy a smartphone, and the following features are important to you: 1) battery life, 2) camera quality, 3) price, and 4) the phone design. Then, you give the following weights to each one:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="A%20Guide%20to%20Metrics%20(Estimates)%20in%20Exploratory%20Data%203a6e0e9d11994f6580f53eb90a242339/Untitled.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Table 1: List of features and their corresponding weights</figcaption><p></p>
</figure>
</div>
<p>Table 1: List of features and their corresponding weights</p>
<p>Let’s say you have two options an iPhone and Google’s Pixel. You can give each feature a score of some value between 1 and 10 (1 being the worst and 10 being the best). After going over some reviews, you may give the following scores to the features of each phone.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="A%20Guide%20to%20Metrics%20(Estimates)%20in%20Exploratory%20Data%203a6e0e9d11994f6580f53eb90a242339/Untitled%201.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Table 2: Scores given to iPhone and Pixel for each score</figcaption><p></p>
</figure>
</div>
<p>Table 2: Scores given to iPhone and Pixel for each score</p>
<p>So, which phone is better for you?</p>
<p><span class="math display">
\begin{matrix}
\text{iPhone score} &amp; {= 0.15 \times 6 + 0.3 \times 9 + 0.25 \times 1 + 0.3 \times 9 = 6.55} \\
\text{Google Pixel score} &amp; {= 0.15 \times 5 + 0.3 \times 9.5 + 0.25 \times 8 + 0.3 \times 5 = 7.1} \\
\end{matrix}
</span></p>
<p>And based on your feature preferences, the Google Pixel might be the better option for you!</p>
</section>
</section>
<section id="median" class="level2">
<h2 class="anchored" data-anchor-id="median">Median</h2>
<p>Median is the middle of a sorted list, and it’s a robust estimate. For an ordered sequence <span class="math inline">x_1, x_2, ..., x_n</span>, the median is computed as follows:</p>
<p><span class="math display">
\begin{matrix}
{\text{if~}n\text{~is~odd}\quad} &amp; \left. {}\longrightarrow\quad\text{Median} = x_{\frac{n + 1}{2}} \right. \\
{\text{if~}n\text{~is~even}\quad} &amp; \left. {}\longrightarrow\quad\text{Median} = \frac{1}{2}(x_{\frac{n}{2}} + x_{\frac{n + 1}{2}}) \right. \\
\end{matrix}
</span></p>
<p>Analogous to the weighted mean, we can also have the <em>weighted median</em> that can be computed as follows for an ordered sequence <span class="math inline">x_1, x_2, ..., x_n</span> with weights <span class="math inline">w_1, w_2, …, w_n</span> where <span class="math inline">w_i&gt;0</span>.</p>
<p><span class="math display">
\begin{matrix}
&amp; {\text{Weighted~Median} = x_{k}} \\
&amp; {\text{where}\quad\sum\limits_{i = 1}^{n}w_{i} = 1\quad\text{and}\quad\sum\limits_{i = k + 1}^{n}w_{i} \leq \frac{1}{2}\quad\text{and}\quad\sum\limits_{i = 1}^{k - 1}w_{i} \leq \frac{1}{2}} \\
\end{matrix}
</span></p>
</section>
<section id="mode" class="level2">
<h2 class="anchored" data-anchor-id="mode">Mode</h2>
<p>The mode is the value that appears most often in the data and is typically used for categorical data, and less for numeric data[1].</p>
</section>
<section id="python-implementation" class="level2">
<h2 class="anchored" data-anchor-id="python-implementation">Python Implementation</h2>
<p>Let’s first import all necessary Python libraries and generate our dataset.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy <span class="im">import</span> stats</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> robustats</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"data"</span>: [<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">20</span>],</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"weights"</span>: [<span class="dv">1</span>, <span class="fl">0.5</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="fl">0.5</span>] <span class="co"># Not necessarily add up to 1!!</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>data, weights <span class="op">=</span> df[<span class="st">"data"</span>], df[<span class="st">"weights"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can use NumPy’s <code>[average()](https://numpy.org/doc/stable/reference/generated/numpy.average.html)</code> function to calculate the mean and weighted mean (equations 1.1 &amp; 1.2). For computing truncated mean, you can use <code>[trim_mean()](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.trim_mean.html)</code> from the SciPy stats module. A common choice for truncating the top and bottom of the data is 10%<a href="A%20Guide%20to%20Metrics%20(Estimates)%20in%20Exploratory%20Data%203a6e0e9d11994f6580f53eb90a242339.md">[1]</a>.</p>
<p>You can use NumPy’s <code>[median()](https://numpy.org/doc/stable/reference/generated/numpy.median.html)</code> function to calculate the median. For computing the weighted median, you can use <code>weighted_median()</code> from the <a href="https://github.com/FilippoBovo/robustats">robustats</a> Python library (you can install it using <code>pip install robustats</code>). Robustats is a high-performance Python library to compute robust statistical estimators implemented in C.</p>
<p>For computing the mode, you can either use the <code>mode()</code> function either from the robustats library that is particularly useful on large datasets or from <code>scipy.stats</code> module.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>mean <span class="op">=</span> np.average(data) <span class="co"># You can use Pandas dataframe.mean()</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>weighted_mean <span class="op">=</span> np.average(data, weights<span class="op">=</span>weights)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>truncated_mean <span class="op">=</span> stats.trim_mean(data, proportiontocut<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>median <span class="op">=</span> np.median(data) <span class="co"># You can use Pandas dataframe.median()</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>weighted_median <span class="op">=</span> robustats.weighted_median(x<span class="op">=</span>data, weights<span class="op">=</span>weights)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>mode <span class="op">=</span> stats.mode(data)  <span class="co"># You can also use robustats.mode() on larger datasets</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Mean: "</span>, mean.<span class="bu">round</span>(<span class="dv">3</span>))</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Weighted Mean: "</span>, weighted_mean.<span class="bu">round</span>(<span class="dv">3</span>))</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Truncated Mean: "</span>, truncated_mean.<span class="bu">round</span>(<span class="dv">3</span>))</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Median: "</span>, median)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Weighted Median: "</span>, weighted_median)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Mode: "</span>, mode)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> Mean:  <span class="fl">4.375</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> Weighted Mean:  <span class="fl">3.5</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> Truncated Mean:  <span class="fl">4.375</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> Median:  <span class="fl">2.0</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> Weighted Median:  <span class="fl">2.0</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> Mode:  ModeResult(mode<span class="op">=</span>array([<span class="dv">2</span>]), count<span class="op">=</span>array([<span class="dv">4</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, let’s see if we just remove 20 from our data, how that will impact our mean.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>mean <span class="op">=</span> np.average(data[:<span class="op">-</span><span class="dv">1</span>]) <span class="co"># Remove the last data point (20)</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Mean: "</span>, mean.<span class="bu">round</span>(<span class="dv">3</span>))</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> Mean:  <span class="fl">2.143</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can see how the last data point (20) impacted the mean (4.375 vs 2.143). There can be many situations that we may end up with some outliers that should be cleaned from our datasets like faulty measurements that are in orders of magnitude away from other data points.</p>
</section>
</section>
<section id="estimates-of-variability" class="level1 page-columns page-full">
<h1>Estimates of Variability</h1>
<p>The second dimension (or moment) addresses how the data is spread out (variability or dispersion of the data). For this, we have to measure the difference (aka residual) between an estimate of location and an observed value<a href="A%20Guide%20to%20Metrics%20(Estimates)%20in%20Exploratory%20Data%203a6e0e9d11994f6580f53eb90a242339.md">[1]</a>.</p>
<section id="mean-absolute-deviation" class="level2">
<h2 class="anchored" data-anchor-id="mean-absolute-deviation">Mean Absolute Deviation</h2>
<p>One way to get this estimate is to calculate the difference between the largest and the lowest value to get the <em>range</em>. However, the range is, by definition, very sensitive to the two extreme values. Another option is the mean absolute deviation that is <em>the average of the sum of all absolute deviation from the mean</em>, as can be seen in the below formula:</p>
<p><span class="math display">
\text{Mean~absolute~deviation} = \frac{\sum\limits_{i = 1}^{n}\mid x_{i} - \bar{x}\mid}{n}
</span></p>
<p>One reason why the mean absolute deviation receives less attention is since mathematically it’s preferable not to work with absolute values if there are other desirable options such as squared values available <span class="math inline">(</span>for instance, <span class="math inline">x^2</span> is differentiable everywhere while the derivative of  <span class="math inline">|x|</span> is not defined at <span class="math inline">x=0)</span>.</p>
</section>
<section id="variance-standard-deviation" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="variance-standard-deviation">Variance &amp; Standard Deviation</h2>
<p>The variance and standard deviation are much more popular statistics than the mean absolute deviation to estimate the data dispersion.</p>
<p><span class="math display">
\begin{matrix}
\text{Variance} &amp; {= s^{2} = \frac{\sum\limits_{i = 1}^{n}(x_{i} - \bar{x})^{2}}{n - 1}} \\
&amp; \\
\text{Standard Deviation} &amp; {= s = \sqrt{\text{Variance}}} \\
\end{matrix}
</span></p>
<aside>
<p>💡 In statistics, <span class="math inline">s</span> is used to refer to a <em><strong>sample</strong> standard deviation</em>, whereas <span class="math inline">\sigma</span> refers to the <em><strong>population</strong> standard deviation</em>.</p>
</aside>
<aside>
<p>💡 The variance is actually the average of the squared deviations from the mean.</p>
</aside>
<p>As can be noted from the formula, the standard deviation is on the same scale as the original data making it an easier metric to interpret than the variance. Analogous to the trimmed mean, we can also compute the <em>trimmed/truncated standard deviation</em> that is less sensitive to outliers.</p>
<p>A good way of remembering some of the above estimates of variability is to link them to other metrics or distances that share a similar formulation<a href="A%20Guide%20to%20Metrics%20(Estimates)%20in%20Exploratory%20Data%203a6e0e9d11994f6580f53eb90a242339.md">[1]</a>. For instance,</p>
<aside>
<p>💡 Variance <span class="math inline">\equiv</span> Mean Squared Error (MSE) (aka Mean Squared Deviation MSD)</p>
</aside>
<aside>
<p>💡 Standard deviation <span class="math inline">\equiv</span> L2-norm, Euclidean norm</p>
</aside>
<aside>
<p>💡 Mean absolute deviation <span class="math inline">\equiv</span> L1-norm, Manhattan norm, Taxicab norm</p>
</aside>
</section>
<section id="median-absolute-deviation-mad" class="level2">
<h2 class="anchored" data-anchor-id="median-absolute-deviation-mad">Median Absolute Deviation (MAD)</h2>
<p>Like the arithmetic mean, none of the estimates of variability (variance, standard deviation, mean absolute deviation) is robust to outliers. Instead, we can use the <em>median absolute deviation from the median</em> to check how our data is spread out in the presence of outliers. The median absolute deviation is a robust estimator, just like the median.</p>
<p><span class="math display">
\begin{matrix}
&amp; {\text{Median absolute deviation} = \text{Median}(\mid x_{1} - m\mid,\mid x_{2} - m\mid,...,\mid x_{n} - m\mid)} \\
&amp; {\quad\quad\text{where }m\text{ is the median}} \\
\end{matrix}
</span></p>
</section>
<section id="percentiles" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="percentiles">Percentiles</h2>
<p>Percentiles (or quantiles) is another measure of the data dispersion that is based on <strong><em><a href="https://en.wikipedia.org/wiki/Order_statistic">order statistics</a></em></strong> (statistics based on sorted data). <span class="math inline">P</span>-th percentile is the least percentage of the values that are lower than or equal to <span class="math inline">P</span> percent.</p>
<aside>
<p>💡 The median is the 50th percentile (0.5 quantile, or Q2).</p>
</aside>
<aside>
<p>💡 The percentile is technically a weighted average<a href="A%20Guide%20to%20Metrics%20(Estimates)%20in%20Exploratory%20Data%203a6e0e9d11994f6580f53eb90a242339.md">[1]</a>.</p>
</aside>
<p>25th (Q1) and 75th (Q3) percentiles are particularly interesting since their difference (Q3 – Q1) shows the middle 50% of the data. The difference is known as the <a href="https://en.wikipedia.org/wiki/Interquartile_range">**interquartile range (IQR)</a>** (IQR=Q3-Q1). Percentiles are used to visualize data distribution using boxplots.</p>
<p>A nice article about boxplots is available on <a href="https://towardsdatascience.com/understanding-boxplots-5e2df7bcbd51">Towards Data Science blog</a>.</p>
</section>
<section id="python-implementation-1" class="level2">
<h2 class="anchored" data-anchor-id="python-implementation-1">Python Implementation</h2>
<p>You can use NumPy’s <code>[var()](https://numpy.org/doc/stable/reference/generated/numpy.var.html)</code> and <code>[std()](https://numpy.org/doc/stable/reference/generated/numpy.std.html)</code> function to calculate the variance and standard deviation, respectively. On the other hand, to calculate the mean absolute deviation, you can use Pandas <code>[mad()](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.mad.html)</code> function. For computing the trimmed standard deviation, you can use SciPy’s <code>[tstd()](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.tstd.html)</code> from the stats module. You can use Pandas <code>[boxplot()](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.boxplot.html)</code> to quickly visualize a boxplot of the data.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy <span class="im">import</span> stats</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>variance <span class="op">=</span> np.var(data)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>standard_deviation <span class="op">=</span> np.std(data)  <span class="co"># df["Population"].std()</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>mean_absolute_deviation <span class="op">=</span> df[<span class="st">"data"</span>].mad()</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>trimmed_standard_deviation <span class="op">=</span> stats.tstd(data)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>median_absolute_deviation <span class="op">=</span> stats.median_abs_deviation(data, scale<span class="op">=</span><span class="st">"normal"</span>)  <span class="co"># stats.median_absolute_deviation() is deprecated</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Percentile</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>Q1 <span class="op">=</span> np.quantile(data, q<span class="op">=</span><span class="fl">0.25</span>)  <span class="co"># Can also use dataframe.quantile(0.25)</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>Q3 <span class="op">=</span> np.quantile(data, q<span class="op">=</span><span class="fl">0.75</span>)  <span class="co"># Can also use dataframe.quantile(0.75)</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>IQR <span class="op">=</span> Q3 <span class="op">-</span> Q1</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Variance: "</span>, variance.<span class="bu">round</span>(<span class="dv">3</span>))</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Standard Deviation: "</span>, standard_deviation.<span class="bu">round</span>(<span class="dv">3</span>))</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Mean Absolute Deviation: "</span>, mean_absolute_deviation.<span class="bu">round</span>(<span class="dv">3</span>))</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Trimmed Standard Deviation: "</span>, trimmed_standard_deviation.<span class="bu">round</span>(<span class="dv">3</span>))</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Median Absolute Deviation: "</span>, median_absolute_deviation.<span class="bu">round</span>(<span class="dv">3</span>))</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Interquantile Range (IQR): "</span>, IQR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> Variance:  <span class="fl">35.234</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> Standard Deviation:  <span class="fl">5.936</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> Mean Absolute Deviation:  <span class="fl">3.906</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> Trimmed Standard Deviation:  <span class="fl">6.346</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> Median Absolute Deviation:  <span class="fl">0.741</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> Interquantile Range (IQR):  <span class="fl">1.0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="A%20Guide%20to%20Metrics%20(Estimates)%20in%20Exploratory%20Data%203a6e0e9d11994f6580f53eb90a242339/Untitled%202.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Table 3: A list of all metrics/estimates</figcaption><p></p>
</figure>
</div>
<p>Table 3: A list of all metrics/estimates</p>
<hr>
</section>
</section>
<section id="conclusion" class="level1 page-columns page-full">
<h1>Conclusion</h1>
<p>In this post, I talked about various estimates of location and variability. In particular, I covered more than 10 different sample statistics and whether they are robust metrics or not. A table of all the metric along with their corresponding Python and R functions are summarized in Table 3. We also saw how the presence of an outlier may impact non-robust metrics like the mean. In this case, we may want to use a robust estimate. However, in some problems, we are interested in studying extreme cases and outliers such as anomaly detection.</p>
<aside>
<p>📓 You can find the Jupyter notebook for this blog post on <a href="https://github.com/e-alizadeh/medium/blob/master/notebooks/A_Guide_to_Metrics_Estimates_in_EDA.ipynb">GitHub</a>.</p>
</aside>
<hr>
<p><strong>Thanks for reading 🙏</strong></p>
<p><em>If you liked this post, you can join my mailing list to receive similar posts. You can follow me on <a href="https://www.linkedin.com/in/alizadehesmaeil/">LinkedIn</a>, <a href="https://github.com/e-alizadeh">GitHub</a>, <a href="https://twitter.com/intent/follow?screen_name=es_alizadeh&amp;tw_p=followbutton">Twitter</a> and <a href="https://medium.com/@ealizadeh">Medium</a>.</em></p>
<p><em>And finally, you can find my knowledge forest 🌲 (raw digital notes) at <a href="https://notes.ealizadeh.com/">notes.ealizadeh.com</a>.</em></p>
</section>
<section id="join-my-mailing-list" class="level1">
<h1><strong>📩 Join my mailing list</strong></h1>
<p><a href="https://chilipepper.io/form/burning-darkcrimson-piquillo-fcdff002-5e7b-4d46-a75e-6290908a51f4">https://chilipepper.io/form/burning-darkcrimson-piquillo-fcdff002-5e7b-4d46-a75e-6290908a51f4</a></p>
<hr>
</section>
<section id="references" class="level1">
<h1>References</h1>
<p>[1] P. Bruce &amp; A. Bruce (2017), <em>Practical Statistics for Data Scientists</em>, First Edition, O’Reilly</p>
<p>[2] Wikipedia, <a href="https://en.wikipedia.org/wiki/Truncated_mean">Truncated mean</a></p>
</section>
<section id="useful-links" class="level1">
<h1>Useful Links</h1>
<p><a href="https://towardsdatascience.com/understanding-boxplots-5e2df7bcbd51">Understanding Boxplots</a></p>
<hr>
<p>⬅️ <strong>Previous Post</strong></p>
<p><a href="A%20Guide%20to%20Metrics%20(Estimates)%20in%20Exploratory%20Data%203a6e0e9d11994f6580f53eb90a242339/Blog%20Posts%20bc607458a43f4c429c109d0dc11482f0.csv">Blog Posts</a></p>
<p><strong>➡️ Next Post</strong></p>
<p><a href="A%20Guide%20to%20Metrics%20(Estimates)%20in%20Exploratory%20Data%203a6e0e9d11994f6580f53eb90a242339/Blog%20Posts%209f62aac4c8a54ac69481419dc2cfd9e0.csv">Blog Posts</a></p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{essi,
  author = {Essi},
  editor = {},
  url = {https://ealizadeh.com/blog/guide-to-estimates-in-exploratory-data-analysis},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-essi" class="csl-entry quarto-appendix-citeas" role="doc-biblioentry">
Essi. n.d. <a href="https://ealizadeh.com/blog/guide-to-estimates-in-exploratory-data-analysis">https://ealizadeh.com/blog/guide-to-estimates-in-exploratory-data-analysis</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">©️ 2022 Esmaeil Alizadeh - All Rights Reserved</div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/e-alizadeh">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/es_alizadeh">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>