<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.203">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Esmaeil Alizadeh">
<meta name="dcterms.date" content="2020-11-09">

<title>Essi Alizadeh - Synthetic Data Vault (SDV): A Python Library for Dataset Modeling</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-180647948-1', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script>
<style>html{ scroll-behavior: smooth; }</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Essi Alizadeh - Synthetic Data Vault (SDV): A Python Library for Dataset Modeling">
<meta property="og:description" content="A tool to generate complex datasets using statistical &amp; machine-learning models.">
<meta property="og:image" content="https://new.ealizadeh.com/blog/sdv-library-for-modeling-datasets/img/_featured_image.png">
<meta property="og:site-name" content="Essi Alizadeh">
<meta property="og:image:height" content="315">
<meta property="og:image:width" content="882">
<meta name="twitter:title" content="Essi Alizadeh - Synthetic Data Vault (SDV): A Python Library for Dataset Modeling">
<meta name="twitter:description" content="A tool to generate complex datasets using statistical &amp; machine-learning models.">
<meta name="twitter:image" content="https://new.ealizadeh.com/blog/sdv-library-for-modeling-datasets/img/_featured_image.png">
<meta name="twitter:creator" content="@es_alizadeh">
<meta name="twitter:site" content="@es_alizadeh">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="315">
<meta name="twitter:image-width" content="882">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Essi Alizadeh</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../contact_me.html">
 <span class="menu-text">Contact me</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Synthetic Data Vault (SDV): A Python Library for Dataset Modeling</h1>
            <p class="subtitle lead">A tool to generate complex datasets using statistical &amp; machine-learning models.</p>
                                <div class="quarto-categories">
                <div class="quarto-category">Data Modeling</div>
                <div class="quarto-category">Data Science</div>
                <div class="quarto-category">Machine Learning</div>
                <div class="quarto-category">Python Library</div>
                <div class="quarto-category">Time Series Analysis</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Esmaeil Alizadeh </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 9, 2020</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<!-- Main CSS style -->
<style type="text/css" media="screen">
    #mailchimp {
   /* background: #F7F9FB; */
   color: #595c5f;
   /* padding: 20px 15px; */
}
   #mailchimp input {
   border-width: 2px;
   border-style: solid;
   border-color: gray;
   color: gray;
   font-family: Arial, Helvetica, sans-serif;
   font-size: 14px;
   /*font-style: italic;*/
   margin-bottom: 10px;
   padding: 8px 10px;
   /* width: 275px; */
    border-radius: 15px;
    -moz-border-radius: 15px;
    -webkit-border-radius: 15px;
   }
   #mailchimp input.email { background: #fff; padding: 10px; text-align: left;}
   #mailchimp input.name { background: #fff; padding: 10px; text-align: left;}
   #mailchimp input[type="submit"] {
       background: #8FC1E3;
       border: none;
       color: #fff;
       cursor: pointer;
       font-size: 15px;
       margin-top: -2px;
       /* width: 55%; */
       /* padding: 8px 0; */
   }
   #mailchimp input[type="submit"]:hover { background: #99DDFF; color: #fff }
   
   .mailinglist{
       color: #595c5f;
       text-align: left;
       font-size: 18px;
       font-weight: bold;
       font-family: Arial, Helvetica, sans-serif;
       /* padding-left: 2.0em; */
       padding-bottom: 3px;
   }

   .footnote {
       color: grey;
       font-family: Arial, Helvetica, sans-serif;
       font-size: 12px;
       margin-top: -3px;
       padding-left: 1.5em;
       }
   /* Errors */
   .error {
   border-color: red;
   }

   .error-message {
        color: red;
        font-style: italic;
        font-size: 12px;
        margin-top: -4px;
        margin-bottom: 3px;
        padding-left: 1.5em;
    }
</style>


<!-- Begin Integrating Email Constraint Validation using a JavaScript API -->
<script>
   // Add the novalidate attribute when the JS loads
   var forms = document.querySelectorAll('.validate');
   for (var i = 0; i < forms.length; i++) {
       forms[i].setAttribute('novalidate', true);
   }


   // Validate the field
   var hasError = function (field) {

       // Don't validate submits, buttons, file and reset inputs, and disabled fields
       if (field.disabled || field.type === 'file' || field.type === 'reset' || field.type === 'submit' || field.type === 'button') return;

       // Get validity
       var validity = field.validity;

       // If valid, return null
       if (validity.valid) return;

       // If field is required and empty
       if (validity.valueMissing) return 'Please fill out this field.';

       // If not the right type
       if (validity.typeMismatch) {

           // Email
           if (field.type === 'email') return 'Please enter an email address.';

           // URL
           if (field.type === 'url') return 'Please enter a URL.';

       }

       // If too short
       if (validity.tooShort) return 'Please lengthen this text to ' + field.getAttribute('minLength') + ' characters or more. You are currently using ' + field.value.length + ' characters.';

       // If too long
       if (validity.tooLong) return 'Please shorten this text to no more than ' + field.getAttribute('maxLength') + ' characters. You are currently using ' + field.value.length + ' characters.';

       // If pattern doesn't match
       if (validity.patternMismatch) {

           // If pattern info is included, return custom error
           if (field.hasAttribute('title')) return field.getAttribute('title');

           // Otherwise, generic error
           return 'Please match the requested format.';

       }

       // If number input isn't a number
       if (validity.badInput) return 'Please enter a number.';

       // If a number value doesn't match the step interval
       if (validity.stepMismatch) return 'Please select a valid value.';

       // If a number field is over the max
       if (validity.rangeOverflow) return 'Please select a value that is no more than ' + field.getAttribute('max') + '.';

       // If a number field is below the min
       if (validity.rangeUnderflow) return 'Please select a value that is no less than ' + field.getAttribute('min') + '.';

       // If all else fails, return a generic catchall error
       return 'The value you entered for this field is invalid.';

   };


   // Show an error message
   var showError = function (field, error) {

       // Add error class to field
       field.classList.add('error');
   
       // If the field is a radio button and part of a group, error all and get the last item in the group
       if (field.type === 'radio' && field.name) {
           var group = field.form.querySelectorAll('[name="' + field.name + '"]');
           if (group.length > 0) {
               for (var i = 0; i < group.length; i++) {
                   group[i].classList.add('error');
               }
               field = group[group.length - 1];
           }
       }

       // Get field id or name
       var id = field.id || field.name;
       if (!id) return;

       // Check if error message field already exists
       // If not, create one
       var message = field.form.querySelector('.error-message#error-for-' + id );
       if (!message) {
           message = document.createElement('div');
           message.className = 'error-message';
           message.id = 'error-for-' + id;
           
           // If the field is a radio button or checkbox, insert error after the label
           var label;
           if (field.type === 'radio' || field.type ==='checkbox') {
               label = field.form.querySelector('label[for="' + id + '"]') || field.parentNode;
               if (label) {
                   label.parentNode.insertBefore( message, label.nextSibling );
               }
           }

           // Otherwise, insert it after the field
           if (!label) {
               field.parentNode.insertBefore( message, field.nextSibling );
           }

       }
       
       // Add ARIA role to the field
       field.setAttribute('aria-describedby', 'error-for-' + id);

       // Update error message
       message.innerHTML = error;

       // Show error message
       message.style.display = 'block';
       message.style.visibility = 'visible';

   };


   // Remove the error message
   var removeError = function (field) {

       // Remove error class to field
       field.classList.remove('error');
       
       // Remove ARIA role from the field
       field.removeAttribute('aria-describedby');

       // If the field is a radio button and part of a group, remove error from all and get the last item in the group
       if (field.type === 'radio' && field.name) {
           var group = field.form.querySelectorAll('[name="' + field.name + '"]');
           if (group.length > 0) {
               for (var i = 0; i < group.length; i++) {
                   group[i].classList.remove('error');
               }
               field = group[group.length - 1];
           }
       }

       // Get field id or name
       var id = field.id || field.name;
       if (!id) return;
       

       // Check if an error message is in the DOM
       var message = field.form.querySelector('.error-message#error-for-' + id + '');
       if (!message) return;

       // If so, hide it
       message.innerHTML = '';
       message.style.display = 'none';
       message.style.visibility = 'hidden';

   };


   // Listen to all blur events
   document.addEventListener('blur', function (event) {

       // Only run if the field is in a form to be validated
       if (!event.target.form.classList.contains('validate')) return;

       // Validate the field
       var error = hasError(event.target);
   
       // If there's an error, show it
       if (error) {
           showError(event.target, error);
           return;
       }

       // Otherwise, remove any existing error message
       removeError(event.target);

   }, true);


   // Check all fields on submit
   document.addEventListener('submit', function (event) {

       // Only run on forms flagged for validation
       if (!event.target.classList.contains('validate')) return;

       // Get all of the form elements
       var fields = event.target.elements;

       // Validate each field
       // Store the first field with an error to a variable so we can bring it into focus later
       var error, hasErrors;
       for (var i = 0; i < fields.length; i++) {
           error = hasError(fields[i]);
           if (error) {
               showError(fields[i], error);
               if (!hasErrors) {
                   hasErrors = fields[i];
               }
           }
       }

       // If there are errrors, don't submit form and focus on first element with error
       if (hasErrors) {
           event.preventDefault();
           hasErrors.focus();
       }

       // Otherwise, let the form submit normally
       // You could also bolt in an Ajax form submit process here

   }, false);
</script>
<!-- End of JavaScript Email Constraint Validation -->


<!-- Begin MailChimp Signup Form -->
<div id="mailchimp">
   <form action="https://ealizadeh.us10.list-manage.com/subscribe/post?u=912b9dacf23679bd0a6e46b22&amp;id=31485d9fc5" method="post" id="mc-embedded-subscribe-form" class="validate" style="max-width:450px;margin:auto" name="mc-embedded-subscribe-form" target="_blank" novalidate="">
       <!-- <i class="fa fa-envelope icon"> </i> -->    
       <h3 aria-hidden="true" class="fas fa-paper-plane mailinglist">Subscribe</h3>
           <!-- <div class="input-icons">  -->
                       <!-- <div class="input-icons">  -->
           <div class="clear">
               <i class="fa fa-envelope"> </i>
               <input class="required email" type="email" size="17" placeholder="E-mail Address" name="EMAIL" id="mce-EMAIL" title="The domain portion of the email address is invalid (the portion after the @)." pattern="^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*(\.\w{2,})+$" required="">
           </div>
           <div class="clear">
               <i class="fa fa-user"> </i> 
               <input class="name" type="text" size="17" placeholder="Name (Optional)" name="FNAME" id="mce-FNAME">
           </div>

           <!-- <div class="footnote"> -->
               <p class="footnote"> No Spam. Unsubscribe anytime.</p>
           <!-- </div> -->
       <div id="mce-responses" class="clear">
           <div class="response" id="mce-error-response" style="display:none"></div>
           <div class="response" id="mce-success-response" style="display:none"></div>
       </div>
       
       <!-- <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_f2d244c0df42a0431bd08ddea_aeaa9dd034" tabindex="-1" value=""></div> -->
       <div class="clear">
           <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
       </div>
   </form>
</div>
<!--End of MailChimp Signup Form-->
</div></div>
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#why-this-library" id="toc-why-this-library" class="nav-link active" data-scroll-target="#why-this-library">Why this library?</a></li>
  <li><a href="#sdv-library" id="toc-sdv-library" class="nav-link" data-scroll-target="#sdv-library">SDV Library</a>
  <ul>
  <li><a href="#time-series-data-modeling-using-par" id="toc-time-series-data-modeling-using-par" class="nav-link" data-scroll-target="#time-series-data-modeling-using-par">Time-Series Data Modeling using PAR</a>
  <ul class="collapse">
  <li><a href="#sample-code" id="toc-sample-code" class="nav-link" data-scroll-target="#sample-code">Sample code</a></li>
  <li><a href="#example-1-single-time-series-one-entity" id="toc-example-1-single-time-series-one-entity" class="nav-link" data-scroll-target="#example-1-single-time-series-one-entity">Example 1: Single Time-Series (one entity)</a></li>
  <li><a href="#example-2-time-series-with-multiple-entities" id="toc-example-2-time-series-with-multiple-entities" class="nav-link" data-scroll-target="#example-2-time-series-with-multiple-entities">Example 2: Time-series with multiple entities</a></li>
  </ul></li>
  <li><a href="#relational-data" id="toc-relational-data" class="nav-link" data-scroll-target="#relational-data">Relational Data</a></li>
  <li><a href="#single-table-data" id="toc-single-table-data" class="nav-link" data-scroll-target="#single-table-data">Single Table Data</a></li>
  <li><a href="#benchmarking-data" id="toc-benchmarking-data" class="nav-link" data-scroll-target="#benchmarking-data">Benchmarking Data</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p><img src="img/_featured_image.png" class="img-fluid" alt="Featured image of the post"></p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>👉 This article is also published on&nbsp;<a href="https://towardsdatascience.com/synthetic-data-vault-sdv-a-python-library-for-dataset-modeling-b48c406e7398"><strong>Towards Data Science blog</strong></a>.</p>
</div>
</div>
<p>In data science, you usually need a realistic dataset to test your proof of concept. Creating fake data that captures the behavior of the actual data may sometimes be a rather tricky task. Several python packages try to achieve this task. Few popular python packages are&nbsp;<a href="https://github.com/joke2k/faker/">Faker</a>,&nbsp;<a href="https://github.com/lk-geimfari/mimesis">Mimesis</a>. However, there are mostly generating simple data like generating names, addresses, emails,&nbsp;<em>etc</em>.</p>
<p>To create data that captures the attributes of a complex dataset, like having time-series that somehow capture the actual data’s statistical properties, we will need a tool that generates data using different approaches. <a href="https://sdv.dev/">Synthetic Data Vault (SDV)</a> python library is a tool that models complex datasets using statistical and machine learning models. This tool can be a great new tool in the toolbox of anyone who works with data and modeling.</p>
<section id="why-this-library" class="level2">
<h2 class="anchored" data-anchor-id="why-this-library">Why this library?</h2>
<p>The main reason I’m interested in this tool is for&nbsp;<em>system testing</em>: It’s much better to have datasets that are generated from the same actual underlying process. This way we can test our work/model in a realistic scenario rather than having unrealistic cases. There are other reasons why we need synthetic data such as <em>data understanding, data compression, data augmentation</em>, and <em>data privacy</em> <span class="citation" data-cites="thesis:xu2020synthesizing">(see <a href="#ref-thesis:xu2020synthesizing" role="doc-biblioref">Xu 2020</a>)</span>.</p>
<p>The&nbsp;<a href="https://sdv.dev/">Synthetic Data Vault (SDV)</a>&nbsp;was first introduced in the paper&nbsp;<a href="https://dai.lids.mit.edu/wp-content/uploads/2018/03/SDV.pdf">“The Synthetic data vault”</a>, then used in the context of generative modeling in the master thesis <a href="https://dspace.mit.edu/handle/1721.1/109616">“The Synthetic Data Vault: Generative Modeling for Relational Databases”</a>”&nbsp;by Neha Patki. Finally, the SDV library was developed as a part of Andrew Montanez’s master thesis <a href="https://dai.lids.mit.edu/wp-content/uploads/2018/12/Andrew_MEng.pdf">“SDV: An Open Source Library for Synthetic Data Generation”</a>. Another master thesis to add new features to SDV was done by Lei Xu&nbsp;<a href="https://dai.lids.mit.edu/wp-content/uploads/2020/02/Lei_SMThesis_neo.pdf">“Synthesizing Tabular Data using conditional GAN”</a>.</p>
<p>All these work and research were done in the MIT Data-to-AI laboratory under the supervision of Kalyan Veeramachaneni – a principal research scientist at MIT Laboratory for Information and Decision Systems (LIDS, MIT).</p>
<p>The reason I’m bringing the history of the SDV is to appreciate the amount of work and research that has gone behind this library. An interesting article talking about the potential of using this tool, particularly in data privacy is available <a href="https://news.mit.edu/2020/real-promise-synthetic-data-1016">here</a>.</p>
</section>
<section id="sdv-library" class="level1">
<h1>SDV Library</h1>
<p>The workflow of this library is shown below. A user provides the data and the schema and then fits a model to the data. At last, new synthetic data is obtained from the fitted model <span class="citation" data-cites="patki2016sdv">(see <a href="#ref-patki2016sdv" role="doc-biblioref">Patki, Wedge, and Veeramachaneni 2016</a>)</span>. Moreover, the SDV library allows the user to save a fitted model (<code>model.save("model.pkl")</code>) for any future use.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/sdv_workflow_reprinted.png" class="img-fluid figure-img" alt="The SDV workflow"></p>
<p></p><figcaption class="figure-caption">The SDV workflow (reprinted from <span class="citation" data-cites="patki2016sdv">(see <a href="#ref-patki2016sdv" role="doc-biblioref">Patki, Wedge, and Veeramachaneni 2016</a>)</span>)</figcaption><p></p>
</figure>
</div>
<section id="time-series-data-modeling-using-par" class="level2">
<h2 class="anchored" data-anchor-id="time-series-data-modeling-using-par">Time-Series Data Modeling using PAR</h2>
<p>A probabilistic autoregressive (PAR) model is used to model multi-type multivariate time-series data. The SDV library has this model implemented in&nbsp;the <code>PAR</code>&nbsp;class&nbsp;(from time-series module).</p>
<p>Let’s work out an example to explain different arguments of&nbsp;<code>PAR</code>&nbsp;class. We are going to work with a time-series of temperatures in multiple cities. The dataset will have the following column:&nbsp;<em>Date</em>,&nbsp;<em>City</em>,&nbsp;<em>Measuring Device</em>,&nbsp;<em>Where, Noise</em>.</p>
<p>In&nbsp;<code>PAR</code>, there are four types of columns considered in a dataset.</p>
<ol type="1">
<li><p>Sequence Index: This is the data column with the row dependencies (should be sorted like datetime or numeric values). In time-series, this is usually the time axis. In our example, the sequence index will be the&nbsp;Date&nbsp;column.</p></li>
<li><p>Entity Columns: These columns are the abstract entities that form the group of measurements, where each group is a time-series (hence the rows within each group should be sorted). However, rows of different entities are independent of each other. In our example, the entity column(s) will be only the&nbsp;City&nbsp;column. By the way, we can have more columns as the argument type should be a list.</p></li>
<li><p>Context Columns: These columns provide information about the time-series’ entities and will not change over time. In other words, the&nbsp;context columns should be constant within groups. In our example,&nbsp;Measuring Device&nbsp;and&nbsp;Where&nbsp;are the context columns.</p></li>
<li><p>Data Columns: Any other columns that do not belong to the above categories will be considered data columns. The&nbsp;PAR&nbsp;class does not have an argument for assigning data columns. So, the remaining columns that are not listed in any of the previous three categories will automatically be considered data columns. In our example, the&nbsp;<em>Noise</em>&nbsp;column is the data column.</p></li>
</ol>
<section id="sample-code" class="level3">
<h3 class="anchored" data-anchor-id="sample-code">Sample code</h3>
</section>
<section id="example-1-single-time-series-one-entity" class="level3">
<h3 class="anchored" data-anchor-id="example-1-single-time-series-one-entity">Example 1: Single Time-Series (one entity)</h3>
<p>The PAR model for time series is implemented in&nbsp;<code>PAR()</code>&nbsp;class from&nbsp;<code>sdv.timeseries</code>&nbsp;module. If we want to model a single time-series data, then we only need to set the&nbsp;<code>sequence_index</code>&nbsp;argument of the&nbsp;<code>PAR()</code>&nbsp;class to the datetime column (the column illustrating the order of the time-series sequence).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdv.timeseries <span class="im">import</span> PAR</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>actual_data <span class="op">=</span> pd.read_csv(<span class="st">"./daily_min_temperature_data_melbourne.csv"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>actual_data[<span class="st">"Date"</span>] <span class="op">=</span> pd.to_datetime(actual_data[<span class="st">"Date"</span>])</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define -&gt; Fit -&gt; Save a PAR model</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> PAR(sequence_index<span class="op">=</span><span class="st">"Date"</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>model.fit(actual_data)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>model.save(<span class="st">"data_generation_model_single_city.pkl"</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># After a model is trained and pickled.</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>We can comment above code <span class="kw">and</span> just load the model <span class="bu">next</span> time.</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> PAR.load(<span class="st">"data_generation_model_single_city.pkl"</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate new data</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>new_data <span class="op">=</span> model1.sample(num_sequences<span class="op">=</span><span class="dv">1</span>)   <span class="co"># may take few seconds to generate</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>new_data[<span class="st">"Date"</span>] <span class="op">=</span> pd.to_datetime(new_data[<span class="st">"Date"</span>])</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare descriptive statistics</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>stat_info1 <span class="op">=</span> actual_data.describe().rename(columns<span class="op">=</span>{<span class="st">"Temp"</span>: <span class="st">"Real Data"</span>})</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>stat_info2 <span class="op">=</span> new_data.describe().rename(columns<span class="op">=</span>{<span class="st">"Temp"</span>: <span class="st">"PAR Generated Data"</span>})</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(stat_info1.join(stat_info2))</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>stat_info1.join(stat_info2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/ex1_summary_stats_real_vs_generated_data.png" class="img-fluid figure-img" alt="Comparison of summary statistics between real data and the PAR generated data."></p>
<p></p><figcaption class="figure-caption">Comparison of summary statistics between real data and the PAR generated data.</figcaption><p></p>
</figure>
</div>
</section>
<section id="example-2-time-series-with-multiple-entities" class="level3">
<h3 class="anchored" data-anchor-id="example-2-time-series-with-multiple-entities">Example 2: Time-series with multiple entities</h3>
<p>The SDV is capable of having multiple entities meaning multiple time-series. In our example, we have temperature measurements for multiple cities. In other words, each city has a group of measurements that will be treated independently.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sdv.timeseries <span class="im">import</span> PAR</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>all_data <span class="op">=</span> pd.read_csv(<span class="st">"./fake_time_series_data_multiple_cities.csv"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>all_data[<span class="st">"Date"</span>] <span class="op">=</span> pd.to_datetime(all_data[<span class="st">"Date"</span>])</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define -&gt; Fit -&gt; Save a PAR model</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> PAR(</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    entity_columns<span class="op">=</span>[<span class="st">"City"</span>],</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    context_columns<span class="op">=</span>[<span class="st">"Measuring Device"</span>, <span class="st">"Location"</span>],</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    sequence_index<span class="op">=</span><span class="st">"Date"</span>,</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>model.fit(all_data)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>model.save(<span class="st">"data_generation_model_multiple_city.pkl"</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># After a model is trained and pickled. We can comment above code and just load the model next time.</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> PAR.load(<span class="st">"data_generation_model_multiple_city.pkl"</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate new data for two fake cities</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>new_data <span class="op">=</span> model1.sample(num_sequences<span class="op">=</span><span class="dv">2</span>)   <span class="co"># may take few seconds to generate</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare descriptive statistics</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>stat_info1 <span class="op">=</span> all_data.describe().rename(columns<span class="op">=</span>{<span class="st">"Temp"</span>: <span class="st">"Original Data"</span>})</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>stat_info2 <span class="op">=</span> new_cities[new_cities[<span class="st">"City"</span>] <span class="op">==</span> cities[<span class="dv">0</span>]].describe().rename(columns<span class="op">=</span>{<span class="st">"Temp"</span>: <span class="ss">f"PAR Generated Data </span><span class="sc">{</span>cities[<span class="dv">0</span>]<span class="sc">}</span><span class="ss">"</span>})</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>stat_info3 <span class="op">=</span> new_cities[new_cities[<span class="st">"City"</span>] <span class="op">==</span> cities[<span class="dv">1</span>]].describe().rename(columns<span class="op">=</span>{<span class="st">"Temp"</span>: <span class="ss">f"PAR Generated Data </span><span class="sc">{</span>cities[<span class="dv">1</span>]<span class="sc">}</span><span class="ss">"</span>})</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>stat_info4 <span class="op">=</span> all_data[all_data[<span class="st">"City"</span>] <span class="op">==</span> <span class="st">"City A"</span>].describe().rename(columns<span class="op">=</span>{<span class="st">"Temp"</span>: <span class="st">"Original Data (City A)"</span>})</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>stat_info5 <span class="op">=</span> all_data[all_data[<span class="st">"City"</span>] <span class="op">==</span> <span class="st">"City B"</span>].describe().rename(columns<span class="op">=</span>{<span class="st">"Temp"</span>: <span class="st">"Original Data (City B)"</span>})</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>stat_info6 <span class="op">=</span> all_data[all_data[<span class="st">"City"</span>] <span class="op">==</span> <span class="st">"City C"</span>].describe().rename(columns<span class="op">=</span>{<span class="st">"Temp"</span>: <span class="st">"Original Data (City C)"</span>})</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>stat_comparison <span class="op">=</span> stat_info1.join(stat_info2).join(stat_info3).join(stat_info4).join(stat_info5).join(stat_info6)</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>stat_comparison</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/ex2_summary_stats_real_vs_generated_data.png" class="img-fluid figure-img" alt="Comparison of summary statistics between real data and the PAR generated data."></p>
<p></p><figcaption class="figure-caption">Comparison of summary statistics between real data and the PAR generated data.</figcaption><p></p>
</figure>
</div>
<p>A detailed example of time-series modeling using the PAR model can be found <a href="https://sdv.dev/SDV/user_guides/timeseries/par.html">here</a>.</p>
</section>
</section>
<section id="relational-data" class="level2">
<h2 class="anchored" data-anchor-id="relational-data">Relational Data</h2>
<p>SDV can model relational datasets by generating data after you specify the data schema using&nbsp;<code>sdv.Metadata()</code>. Moreover, you can plot the <a href="https://www.guru99.com/er-diagram-tutorial-dbms.html"><strong>entity-relationship (ER) diagram</strong></a> by using the library built-in function. After the metadata is ready, new data can be generated using the Hierarchical Modeling Algorithm. You can find more information&nbsp;<a href="https://sdv.dev/SDV/user_guides/relational/index.html"><strong>here</strong></a>.</p>
</section>
<section id="single-table-data" class="level2">
<h2 class="anchored" data-anchor-id="single-table-data">Single Table Data</h2>
<p>SDV can also model a single table dataset. It uses statistical and deep learning models that are:</p>
<ul>
<li>A <a href="https://sdv.dev/SDV/user_guides/single_table/gaussian_copula.html#gaussian-copula"><strong>Gaussian Copula</strong></a> to model the multivariate distribution, and</li>
<li>A Generative Adversarial Network (GAN) to model tabular data (based on the paper&nbsp;“<a href="https://arxiv.org/abs/1907.00503"><strong>Modeling Tabular data using Conditional GAN</strong></a>“.</li>
</ul>
<p>More information about modeling single table datasets is available&nbsp;<a href="https://sdv.dev/SDV/user_guides/single_table/index.html"><strong>here</strong></a>.</p>
</section>
<section id="benchmarking-data" class="level2">
<h2 class="anchored" data-anchor-id="benchmarking-data">Benchmarking Data</h2>
<p>The SDV library provides the ability to benchmark synthetic data generators using&nbsp;the <a href="https://github.com/sdv-dev/SDGym"><strong>SDGym library</strong></a>&nbsp;to evaluate the performance of synthesizer. You can find more information&nbsp;<a href="https://sdv.dev/SDV/user_guides/benchmarking/single_table.html"><strong>here</strong></a>.</p>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>In this post, we went over the main features of the SDV library and how useful it is in generating anonymous datasets based on realistic data. The main features are modeling single table data, time-series, relational datasets, and also data benchmarking. One point to mention here is that you need to provide a large dataset for SDV models to train with. This way, the model can generate a meaningful dataset that truly captures the real process. Give this library a try and let me know what you think?</p>
<div class="callout callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>📓 You can find the notebook for this post on <a href="https://github.com/e-alizadeh/medium/blob/master/notebooks/SDV/SDV.ipynb">GitHub</a>.</p>
</div>
</div>
</div>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-patki2016sdv" class="csl-entry" role="doc-biblioentry">
Patki, Neha, Roy Wedge, and Kalyan Veeramachaneni. 2016. <span>“The Synthetic Data Vault.”</span> In <em>2016 IEEE International Conference on Data Science and Advanced Analytics (DSAA)</em>, 399–410. IEEE. <a href="https://dai.lids.mit.edu/wp-content/uploads/2018/03/SDV.pdf">https://dai.lids.mit.edu/wp-content/uploads/2018/03/SDV.pdf</a>.
</div>
<div id="ref-thesis:xu2020synthesizing" class="csl-entry" role="doc-biblioentry">
Xu, Lei. 2020. <span>“Synthesizing Tabular Data Using Conditional GAN.”</span> Master’s thesis, Massachusetts Institute of Technology. <a href="https://dai.lids.mit.edu/wp-content/uploads/2020/02/Lei_SMThesis_neo.pdf">https://dai.lids.mit.edu/wp-content/uploads/2020/02/Lei_SMThesis_neo.pdf</a>.
</div>
</div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{alizadeh2020,
  author = {Esmaeil Alizadeh},
  title = {Synthetic {Data} {Vault} {(SDV):} {A} {Python} {Library} for
    {Dataset} {Modeling}},
  date = {2020-11-09},
  url = {https://new.ealizadeh.com/blog/sdv-library-for-modeling-datasets},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-alizadeh2020" class="csl-entry quarto-appendix-citeas" role="doc-biblioentry">
Esmaeil Alizadeh. 2020. <span>“Synthetic Data Vault (SDV): A Python
Library for Dataset Modeling.”</span> November 9, 2020. <a href="https://new.ealizadeh.com/blog/sdv-library-for-modeling-datasets">https://new.ealizadeh.com/blog/sdv-library-for-modeling-datasets</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">©️ 2022 Esmaeil Alizadeh - All Rights Reserved</div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/e-alizadeh">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/es_alizadeh">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>